import 'dart:convert';
import 'dart:core';
import 'dart:math';

import 'device_record.dart';


class Dummy  {
  Future<List<String>> getDevices(){
    List<String> devices = ['3C61053EE2F4','3C61053EE2F4','3C61053EE2F4','3C61053EE2F4','3C61053EE2F4','3C61053EE2F4','3C61053EE2F4','3C61053EE2F4'];
    return Future.value(devices);
  }
  Future<List<DeviceRecord>> getRecords(String deviceId) {
    List<DeviceRecord> records = [];
    var jsonArray=jsonDecode('[{"id":"30","sensor":"Large Plant","location":"Front Room","temp":"72.86","humid":"50.00","moisture":"41","reading_time":"2022-05-04 17:27:07"},{"id":"29","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"55.00","moisture":"42","reading_time":"2022-05-04 16:59:40"},{"id":"28","sensor":"Large Plant","location":"Front Room","temp":"72.86","humid":"49.00","moisture":"41","reading_time":"2022-05-04 16:32:21"},{"id":"27","sensor":"Large Plant","location":"Front Room","temp":"72.32","humid":"49.00","moisture":"43","reading_time":"2022-05-04 16:05:01"},{"id":"26","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"53.00","moisture":"41","reading_time":"2022-05-04 15:37:42"},{"id":"25","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"48.00","moisture":"42","reading_time":"2022-05-04 15:10:25"},{"id":"24","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"54.00","moisture":"42","reading_time":"2022-05-04 14:43:05"},{"id":"23","sensor":"Large Plant","location":"Front Room","temp":"72.86","humid":"48.00","moisture":"41","reading_time":"2022-05-04 14:15:46"},{"id":"22","sensor":"Large Plant","location":"Front Room","temp":"75.20","humid":"50.00","moisture":"42","reading_time":"2022-05-04 13:48:26"},{"id":"21","sensor":"Large Plant","location":"Front Room","temp":"75.02","humid":"54.00","moisture":"42","reading_time":"2022-05-04 13:21:13"},{"id":"20","sensor":"Large Plant","location":"Front Room","temp":"73.58","humid":"53.00","moisture":"41","reading_time":"2022-05-04 13:20:34"},{"id":"19","sensor":"Large Plant","location":"Front Room","temp":"69.08","humid":"58.00","moisture":"55","reading_time":"2022-05-01 09:07:36"},{"id":"18","sensor":"Large Plant","location":"Front Room","temp":"69.08","humid":"60.00","moisture":"54","reading_time":"2022-05-01 08:40:18"},{"id":"17","sensor":"Large Plant","location":"Front Room","temp":"69.26","humid":"59.00","moisture":"54","reading_time":"2022-05-01 08:12:59"},{"id":"16","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"64.00","moisture":"53","reading_time":"2022-05-01 07:45:40"},{"id":"15","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"64.00","moisture":"56","reading_time":"2022-05-01 07:18:22"},{"id":"14","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"65.00","moisture":"57","reading_time":"2022-05-01 06:51:04"},{"id":"13","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"64.00","moisture":"56","reading_time":"2022-05-01 06:23:46"},{"id":"12","sensor":"Large Plant","location":"Front Room","temp":"69.80","humid":"63.00","moisture":"57","reading_time":"2022-05-01 05:56:28"},{"id":"11","sensor":"Large Plant","location":"Front Room","temp":"69.98","humid":"64.00","moisture":"57","reading_time":"2022-05-01 05:29:09"},{"id":"10","sensor":"Large Plant","location":"Front Room","temp":"70.16","humid":"68.00","moisture":"56","reading_time":"2022-05-01 05:01:48"},{"id":"9","sensor":"Large Plant","location":"Front Room","temp":"70.16","humid":"66.00","moisture":"57","reading_time":"2022-05-01 04:34:26"},{"id":"8","sensor":"Large Plant","location":"Front Room","temp":"70.16","humid":"68.00","moisture":"57","reading_time":"2022-05-01 04:07:09"},{"id":"7","sensor":"Large Plant","location":"Front Room","temp":"70.34","humid":"65.00","moisture":"56","reading_time":"2022-05-01 03:39:51"},{"id":"6","sensor":"Large Plant","location":"Front Room","temp":"70.88","humid":"68.00","moisture":"56","reading_time":"2022-05-01 03:12:32"},{"id":"5","sensor":"Large Plant","location":"Front Room","temp":"70.88","humid":"68.00","moisture":"59","reading_time":"2022-05-01 02:45:13"},{"id":"4","sensor":"Large Plant","location":"Front Room","temp":"71.06","humid":"70.00","moisture":"59","reading_time":"2022-05-01 02:17:55"},{"id":"3","sensor":"Large Plant","location":"Front Room","temp":"71.42","humid":"69.00","moisture":"62","reading_time":"2022-05-01 01:50:33"},{"id":"2","sensor":"Large Plant","location":"Front Room","temp":"77.18","humid":"54.00","moisture":"63","reading_time":"2022-05-01 01:23:13"},{"id":"1","sensor":"Large Plant","location":"Front Room","temp":"75.92","humid":"56.00","moisture":"68","reading_time":"2022-05-01 00:56:35"}]');
    for (var i = 0; i < jsonArray.length; i++) {
      var json = jsonArray[i];
      DeviceRecord r=DeviceRecord.fromJson(json);
      r.name=deviceId;
      records.add(r);
    }
    return Future.value(records);
  }
  Future<DeviceRecord> mostRecentReading(String deviceId) {
    List<DeviceRecord> records = [];
    var jsonArray=jsonDecode('[{"id":"30","sensor":"Large Plant","location":"Front Room","temp":"72.86","humid":"50.00","moisture":"41","reading_time":"2022-05-04 17:27:07"},{"id":"29","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"55.00","moisture":"42","reading_time":"2022-05-04 16:59:40"},{"id":"28","sensor":"Large Plant","location":"Front Room","temp":"72.86","humid":"49.00","moisture":"41","reading_time":"2022-05-04 16:32:21"},{"id":"27","sensor":"Large Plant","location":"Front Room","temp":"72.32","humid":"49.00","moisture":"43","reading_time":"2022-05-04 16:05:01"},{"id":"26","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"53.00","moisture":"41","reading_time":"2022-05-04 15:37:42"},{"id":"25","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"48.00","moisture":"42","reading_time":"2022-05-04 15:10:25"},{"id":"24","sensor":"Large Plant","location":"Front Room","temp":"73.22","humid":"54.00","moisture":"42","reading_time":"2022-05-04 14:43:05"},{"id":"23","sensor":"Large Plant","location":"Front Room","temp":"72.86","humid":"48.00","moisture":"41","reading_time":"2022-05-04 14:15:46"},{"id":"22","sensor":"Large Plant","location":"Front Room","temp":"75.20","humid":"50.00","moisture":"42","reading_time":"2022-05-04 13:48:26"},{"id":"21","sensor":"Large Plant","location":"Front Room","temp":"75.02","humid":"54.00","moisture":"42","reading_time":"2022-05-04 13:21:13"},{"id":"20","sensor":"Large Plant","location":"Front Room","temp":"73.58","humid":"53.00","moisture":"41","reading_time":"2022-05-04 13:20:34"},{"id":"19","sensor":"Large Plant","location":"Front Room","temp":"69.08","humid":"58.00","moisture":"55","reading_time":"2022-05-01 09:07:36"},{"id":"18","sensor":"Large Plant","location":"Front Room","temp":"69.08","humid":"60.00","moisture":"54","reading_time":"2022-05-01 08:40:18"},{"id":"17","sensor":"Large Plant","location":"Front Room","temp":"69.26","humid":"59.00","moisture":"54","reading_time":"2022-05-01 08:12:59"},{"id":"16","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"64.00","moisture":"53","reading_time":"2022-05-01 07:45:40"},{"id":"15","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"64.00","moisture":"56","reading_time":"2022-05-01 07:18:22"},{"id":"14","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"65.00","moisture":"57","reading_time":"2022-05-01 06:51:04"},{"id":"13","sensor":"Large Plant","location":"Front Room","temp":"69.62","humid":"64.00","moisture":"56","reading_time":"2022-05-01 06:23:46"},{"id":"12","sensor":"Large Plant","location":"Front Room","temp":"69.80","humid":"63.00","moisture":"57","reading_time":"2022-05-01 05:56:28"},{"id":"11","sensor":"Large Plant","location":"Front Room","temp":"69.98","humid":"64.00","moisture":"57","reading_time":"2022-05-01 05:29:09"},{"id":"10","sensor":"Large Plant","location":"Front Room","temp":"70.16","humid":"68.00","moisture":"56","reading_time":"2022-05-01 05:01:48"},{"id":"9","sensor":"Large Plant","location":"Front Room","temp":"70.16","humid":"66.00","moisture":"57","reading_time":"2022-05-01 04:34:26"},{"id":"8","sensor":"Large Plant","location":"Front Room","temp":"70.16","humid":"68.00","moisture":"57","reading_time":"2022-05-01 04:07:09"},{"id":"7","sensor":"Large Plant","location":"Front Room","temp":"70.34","humid":"65.00","moisture":"56","reading_time":"2022-05-01 03:39:51"},{"id":"6","sensor":"Large Plant","location":"Front Room","temp":"70.88","humid":"68.00","moisture":"56","reading_time":"2022-05-01 03:12:32"},{"id":"5","sensor":"Large Plant","location":"Front Room","temp":"70.88","humid":"68.00","moisture":"59","reading_time":"2022-05-01 02:45:13"},{"id":"4","sensor":"Large Plant","location":"Front Room","temp":"71.06","humid":"70.00","moisture":"59","reading_time":"2022-05-01 02:17:55"},{"id":"3","sensor":"Large Plant","location":"Front Room","temp":"71.42","humid":"69.00","moisture":"62","reading_time":"2022-05-01 01:50:33"},{"id":"2","sensor":"Large Plant","location":"Front Room","temp":"77.18","humid":"54.00","moisture":"63","reading_time":"2022-05-01 01:23:13"},{"id":"1","sensor":"Large Plant","location":"Front Room","temp":"75.92","humid":"56.00","moisture":"68","reading_time":"2022-05-01 00:56:35"}]');
    for (var i = 0; i < jsonArray.length; i++) {
      var json = jsonArray[i];
      DeviceRecord r=DeviceRecord.fromJson(json);
      r.name=deviceId;
      records.add(r);
    }
    int random = Random().nextInt(records.length-1);
    return Future.value(records[random]);
    // //return future record with max id
    // return Future.value(records.reduce((a, b) => int.parse(a.id!) > int.parse(b.id!) ? a : b));
    // return records[0];
  }
}
